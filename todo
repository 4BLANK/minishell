exitstatus $?
signals
''
export 3=3 -> not valid

ls | ls -al && ls => invalid read 
check this error !!!!!!
only && and || 
| no !
check why !!!!!


==> fix () :done
==> fix read error : done
==> herdoc : ..
==> export : ...
==> wildcard : ...
==> HANDLE REDIRECTION AFTER A GROUPED COMMAND : done


(ls && (ls || (ls && ls && (ls | ls))))

((ls && ls)> file || (ls || (ls | ls > file)))


"ls -al $data'ls'"$data '$data'

heredox expand 
heredoc dilimiter remove quote
remove quote


export expand


cat | ls
cat has to be SIGPIPED and the prompt should get back


-> pwd | adfa
== TOKENS LIST =========>
1 -> [pwd | CMD] 
2 -> [| | PIPE] 
3 -> [adfa | CMD] 

=======EXPANDER+>
1 -> [pwd | CMD] 
2 -> [| | PIPE] 
3 -> [adfa | CMD] 

==243903== 
==243903== FILE DESCRIPTORS: 5 open (3 std) at exit.
==243903== Open file descriptor 4:
==243903==    at 0x49D907D: pipe (pipe.c:29)
==243903==    by 0x4026A7: start_of_piping (execute_pipeline.c:8)
==243903==    by 0x4028BF: execute_pipeline (execute_pipeline.c:56)
==243903==    by 0x40200F: kickoff (exec.c:8)
==243903==    by 0x40139F: main (main.c:31)
==243903== 
==243903== Open file descriptor 3:
==243903==    at 0x49D907D: pipe (pipe.c:29)
==243903==    by 0x4026A7: start_of_piping (execute_pipeline.c:8)
==243903==    by 0x4028BF: execute_pipeline (execute_pipeline.c:56)
==243903==    by 0x40200F: kickoff (exec.c:8)
==243903==    by 0x40139F: main (main.c:31)
==243903== 
==243903== 
==243903== HEAP SUMMARY:
==243903==     in use at exit: 216,488 bytes in 639 blocks
==243903==   total heap usage: 3,521 allocs, 2,882 frees, 417,392 bytes allocated
==243903== 
==243903== LEAK SUMMARY:
==243903==    definitely lost: 1,183 bytes in 81 blocks
==243903==    indirectly lost: 375 bytes in 54 blocks
==243903==      possibly lost: 0 bytes in 0 blocks
==243903==    still reachable: 214,930 bytes in 504 blocks
==243903==         suppressed: 0 bytes in 0 blocks
==243903== Rerun with --leak-check=full to see details of leaked memory
==243903== 
==243903== For lists of detected and suppressed errors, rerun with: -s
==243903== ERROR SUMMARY: 2 errors from 1 contexts (suppressed: 0 from 0)
==243503== Syscall param access(pathname) points to unaddressable byte(s)
==243503==    at 0x49D894B: access (access.c:27)
==243503==    by 0x402C2B: pre_exec_errors (pre_exec_errors.c:86)
==243503==    by 0x4025DD: execute_command (execute_command.c:47)
==243503==    by 0x402863: end_of_piping (execute_pipeline.c:43)
==243503==    by 0x402937: execute_pipeline (execute_pipeline.c:64)
==243503==    by 0x40200F: kickoff (exec.c:8)
==243503==    by 0x40139F: main (main.c:31)
==243503==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
==243503== 
chnghl o mnghl: adfa: command not found



asdffasd > o1
should open o1 then check if the command is valid ola chi9lwa 

touch o2
chmod -w o2
echo hello > o1 > o2 > o3
!does not create o1 + does not throw error + prints hello to screen
(maybe builtin)


> o3
invalid read


""
should give cmd not found









YOUNESS
 >>x|x>x|l
 : command not found
==486822== Invalid read of size 8
==486822==    at 0x402740: child_routine (execute_command.c:36)
==486822==    by 0x4028B0: execute_command (execute_command.c:62)
==486822==    by 0x402967: start_of_piping (execute_pipeline.c:13)
==486822==    by 0x402C08: execute_pipeline (execute_pipeline.c:80)
==486822==    by 0x40216F: kickoff (exec.c:8)
==486822==    by 0x4013CB: main (main.c:31)
==486822==  Address 0x0 is not stack'd, malloc'd or (recently) free'd
==486822== 
==486822== 
==486822== Process terminating with default action of signal 11 (SIGSEGV)
==486822==  Access not within mapped region at address 0x0
==486822==    at 0x402740: child_routine (execute_command.c:36)
==486822==    by 0x4028B0: execute_command (execute_command.c:62)
==486822==    by 0x402967: start_of_piping (execute_pipeline.c:13)
==486822==    by 0x402C08: execute_pipeline (execute_pipeline.c:80)
==486822==    by 0x40216F: kickoff (exec.c:8)
==486822==    by 0x4013CB: main (main.c:31)
==486822==  If you believe this happened as a result of a stack
==486822==  overflow in your program's main thread (unlikely but
==486822==  possible), you can try to increase the size of the
==486822==  main thread stack using the --main-stacksize= flag.
==486822==  The main thread stack size used in this run was 8388608.
==486822== 
==486822== HEAP SUMMARY:
==486822==     in use at exit: 221,354 bytes in 573 blocks
==486822==   total heap usage: 2,350 allocs, 1,777 frees, 268,533 bytes allocated

CTRL-D in herdoc must be treated as finding delimeter.
CTRL-D != CTRL-c
only show a warning and proceed to the next herdoc


































./ls
chnghl o mnghl: ./ls: no such file or directory
==210330== 
==210330== HEAP SUMMARY:
==210330==     in use at exit: 209,087 bytes in 273 blocks
==210330==   total heap usage: 2,142 allocs, 1,869 frees, 454,143 bytes allocated
==210330== 
==210330== 5 bytes in 1 blocks are still reachable in loss record 5 of 75
==210330==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==210330==    by 0x40AD61: ft_strdup (in /nfs/homes/mzelouan/Desktop/mini/minishell)
==210330==    by 0x4026CA: get_commandpath (exec_tools.c:64)
==210330==    by 0x40297C: child_routine (execute_command.c:28)
==210330==    by 0x402BF3: execute_command (execute_command.c:75)
==210330==    by 0x4023A6: kickoff (exec.c:10)
==210330==    by 0x4013C7: main (main.c:32)














1 -> [echo | CMD] 
2 -> [$HOME | ARG] 
==217932== Invalid read of size 1
==217932==    at 0x40A7C5: ft_strlen (in /nfs/homes/mzelouan/Desktop/mini/minishell)
==217932==    by 0x40ADAC: ft_strdup (in /nfs/homes/mzelouan/Desktop/mini/minishell)
==217932==    by 0x4048A6: expand_env_var (expand_token.c:134)
==217932==    by 0x404AFE: expand_token_core (expand_token.c:124)
==217932==    by 0x404A37: expand_string (expand_token.c:76)
==217932==    by 0x404668: process_tok (expand_no_quotes.c:53)
==217932==    by 0x4045A5: expand_noquotes (expand_no_quotes.c:31)
==217932==    by 0x404484: expander_core (expander.c:86)
==217932==    by 0x403A39: parser (parser.c:31)
==217932==    by 0x40137D: main (main.c:23)
==217932==  Address 0x4b21960 is 0 bytes inside a block of size 20 free'd
==217932==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==217932==    by 0x405A4B: cd_cmd (cd_cmd.c:72)
==217932==    by 0x40212D: type_shi (built_ins_handling.c:24)
==217932==    by 0x401F3B: execute (built_ins_handling.c:63)
==217932==    by 0x40232D: built_ins (built_ins_handling.c:102)
==217932==    by 0x402B9A: execute_command (execute_command.c:67)
==217932==    by 0x4023C6: kickoff (exec.c:10)
==217932==    by 0x4013E3: main (main.c:32)
==217932==  Block was alloc'd at
==217932==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==217932==    by 0x4085D1: remove_quote (extra_string_tools.c:75)
==217932==    by 0x403FD2: getenv_value (env_utils.c:43)
==217932==    by 0x40417C: init_envlist (env_utils.c:89)
==217932==    by 0x4058EB: setshell (sh_utils.c:23)
==217932==    by 0x401313: main (main.c:13)
==217932== 
==217932== Invalid read of size 1
==217932==    at 0x40ADF9: ft_strdup (in /nfs/homes/mzelouan/Desktop/mini/minishell)
==217932==    by 0x4048A6: expand_env_var (expand_token.c:134)
==217932==    by 0x404AFE: expand_token_core (expand_token.c:124)
==217932==    by 0x404A37: expand_string (expand_token.c:76)
==217932==    by 0x404668: process_tok (expand_no_quotes.c:53)
==217932==    by 0x4045A5: expand_noquotes (expand_no_quotes.c:31)
==217932==    by 0x404484: expander_core (expander.c:86)
==217932==    by 0x403A39: parser (parser.c:31)
==217932==    by 0x40137D: main (main.c:23)
==217932==  Address 0x4b21960 is 0 bytes inside a block of size 20 free'd
==217932==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==217932==    by 0x405A4B: cd_cmd (cd_cmd.c:72)
==217932==    by 0x40212D: type_shi (built_ins_handling.c:24)
==217932==    by 0x401F3B: execute (built_ins_handling.c:63)
==217932==    by 0x40232D: built_ins (built_ins_handling.c:102)
==217932==    by 0x402B9A: execute_command (execute_command.c:67)
==217932==    by 0x4023C6: kickoff (exec.c:10)
==217932==    by 0x4013E3: main (main.c:32)
==217932==  Block was alloc'd at
==217932==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==217932==    by 0x4085D1: remove_quote (extra_string_tools.c:75)
==217932==    by 0x403FD2: getenv_value (env_utils.c:43)
==217932==    by 0x40417C: init_envlist (env_utils.c:89)
==217932==    by 0x4058EB: setshell (sh_utils.c:23)
==217932==    by 0x401313: main (main.c:13)
==217932== 

